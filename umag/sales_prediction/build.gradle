plugins {
    id "application"
    id "idea"
    id "java"
}

group = "kz.umag"
version = "1.0.0"
sourceCompatibility = "15"
targetCompatibility = "15"

repositories {
    jcenter()
}

def floggerVersion = "0.5.1"

dependencies {
    implementation "com.beust:jcommander:1.80"
    implementation "com.google.flogger:flogger:${floggerVersion}"
    implementation "com.google.guava:guava:30.1-jre"
    implementation "com.google.inject:guice:4.2.3:no_aop"
    implementation "net.israfil.cli:jcommander-guice:0.1"
    implementation 'de.bwaldvogel:liblinear:2.42'

    runtimeOnly "com.google.flogger:flogger-system-backend:${floggerVersion}"
}

application {
    mainClass.set("kz.umag.hackathons.sales_prediction.App")
}

task unpackFiles(type: Copy) {
    from zipTree("${projectDir}/data/resources.zip")
    into "${projectDir}/src/main/resources"
}

run {
    dependsOn(unpackFiles)
    mustRunAfter(unpackFiles)
}
